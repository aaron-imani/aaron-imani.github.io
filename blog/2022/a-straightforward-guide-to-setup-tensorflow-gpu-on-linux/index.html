<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p>In the course of using an HPC cluster for training a deep learning text classification model, I needed to set the environment up by installing tensorflow-gpu, tensorflow-text, and tensorflow_hub. However, it didn’t go well, as none of the online resources yielded the correct result. By installing tensorflow-gpu using conda install tensorflow-gpu the problem is that at the time of writing this story, this command ended up installing tensorflow-gpu==2.4.0 that was incompatible with tensorflow-text version, which was 2.10.0. I tried installing tensorflow-text of the same version of the tensorflow-gpu , but the problem is that the oldest version available on conda was 2.5.0, which was still incompatible. Long story short, after hours of struggling with the issue, I hereby release the solution that worked for me for setting up an HPC cluster for training deep learning models using Tensorflow on GPU resources.</p> <p>1- Install a version of <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/linux.html" rel="external nofollow noopener" target="_blank">miniconda</a> on the machine and initialize it</p> <p>2- Run the following commands to setup the environment for tensorflow-gpu :</p> <iframe src="" width="0" height="0" frameborder="0" scrolling="no"><a href="https://medium.com/media/4c27978056db36caff8436eb66455481/href" rel="external nofollow noopener" target="_blank">https://medium.com/media/4c27978056db36caff8436eb66455481/href</a></iframe> <p>Of course, you can change the version in line 5 with any version of tensorflow that you want.</p> <p>3- To ensure tensorflow-gpu has been set up properly to use the GPU resources, run the following command:</p> <pre>conda activate tf_gpu</pre> <pre>python -c "import tensorflow as tf; print(tf.config.list_physical_devices('GPU'))"</pre> <p>Happy coding!</p> <h4>References</h4> <p>1- <a href="https://www.tensorflow.org/install/pip" rel="external nofollow noopener" target="_blank">https://www.tensorflow.org/install/pip</a></p> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=2d6cb4c9f469" width="1" height="1" alt=""></p> </body></html>